<div *ngIf="isLoading" style="
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 24px;
  ">
  <mat-spinner></mat-spinner>
</div>

<!-- <div>
<form *ngIf="!isLoading"   [formGroup]="form" (ngSubmit)="onSubmitHandler()">
  
  <mat-form-field>
    <mat-label>Name</mat-label>
    <input matInput formControlName="name" placeholder="Name" />
    <mat-error *ngIf="form.get('name')?.hasError('required')">
      This field is required.
    </mat-error>
  </mat-form-field>
 
  <br />
  <mat-form-field>
    <mat-label>Category</mat-label>
    <input matInput formControlName="category" placeholder="Search category" [matAutocomplete]="function" />
    <mat-autocomplete #function="matAutocomplete" >
      <mat-option *ngFor="let function of category" [value]="function">{{
        function
        }}</mat-option>
    </mat-autocomplete>
    <mat-error *ngIf="form.get('function')?.hasError('required')">
      This field is required.
    </mat-error>
  </mat-form-field>
 
  <br />
   
 
  <button mat-flat-button color="primary" type="submit">Save</button>
</form>
</div> -->

  <mat-stepper linear [orientation]="isHorizontal ? 'horizontal' : 'vertical'"   #stepper>
    <mat-step [stepControl]="firstFormGroup">
      <form [formGroup]="firstFormGroup">
        <ng-template matStepLabel>Create Item</ng-template>
        <br />
        <mat-form-field>
            <mat-label>Name</mat-label>
            <input matInput formControlName="name" placeholder="Name" />
            <mat-error *ngIf="form.get('name')?.hasError('required')">
              This field is required.
            </mat-error>
          </mat-form-field>
        <br />
        <mat-form-field>
            <mat-label>Category</mat-label>
            <input matInput formControlName="category" placeholder="Search category" [matAutocomplete]="function" />
            <mat-autocomplete #function="matAutocomplete" >
              <mat-option *ngFor="let function of category" [value]="function">{{
                function
                }}</mat-option>
            </mat-autocomplete>
            <mat-error *ngIf="form.get('category')?.hasError('required')">
              This field is required.
            </mat-error>
          </mat-form-field>
          <br/>
        
        <div>
          <button mat-button matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="secondFormGroup">
      <form [formGroup]="secondFormGroup"  >
        <ng-template matStepLabel>Attach Image</ng-template>
        <br />
        <mat-form-field class="example-full-width">
            <mat-label>Price</mat-label>
            <input matInput formControlName="price"   maxlength="5" placeholder="Price" value="" required>
            <!-- <mat-hint >{{postalCode.value.length}} / 5</mat-hint> -->
            <mat-error *ngIf="form.get('price')?.hasError('required')">
                This field is required.
              </mat-error>  
        </mat-form-field>
        <br/>
        <mat-label>Image</mat-label>
        <input type="file" (change)="onFileSelected($event)">
        <br/>
        <br/>

        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Done</ng-template>
      <p>You are now done.</p>
      <div>
        <button mat-button matStepperPrevious>Back</button>
        <!-- <button mat-button (click)="stepper.reset()">Reset</button> -->
        <button mat-button (click)="onSubmitHandler()">Submit</button>
      </div>
    </mat-step>
  </mat-stepper>
  
