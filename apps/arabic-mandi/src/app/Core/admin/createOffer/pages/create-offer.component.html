<div class="outerDivStyle">
  <form class="formStyle" [formGroup]="offerForm" (ngSubmit)="onSubmit()">
    <mat-form-field>
      <mat-label>Offer Name</mat-label>
      <input matInput id="offerName" formControlName="offerName" />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Price</mat-label>
      <input matInput id="price" formControlName="price" type="number" />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Special Discount</mat-label>
      <input matInput id="specialDiscount" formControlName="specialDiscount" type="number" />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Total Cost After Discount</mat-label>
      <input matInput id="totalCostAfterDiscount" formControlName="totalCostAfterDiscount" type="number" readonly />
    </mat-form-field>

    <br>
    <a class="btn btn-primary btn-sm " (click)="ItemOfferDailogHandlar()" role="button">
      {{ selectedItems && selectedItems.length > 0 ? 'UpdateItem' : 'SelectItem' }}</a>
    <br>
    <button mat-raised-button #paginator color="primary" type="submit">AddToList</button>

  </form>
  <div style="
  position: absolute;
  bottom: 142px;
  left: 40%;
  right: 50%;">
    <button mat-raised-button [matMenuTriggerFor]="menu" *ngIf="selectedItems.length > 0"
      [matBadge]="selectedItems.length" matBadgePosition="before" matBadgeColor="warn">
      <mat-icon>view_list</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <mat-list>
        <mat-list-item *ngFor="let selectedItem of selectedItems">
          <div fxLayout="row" fxGap="8px" style="justify-content: space-between;">
            <span style="overflow: hidden; text-overflow: ellipsis;">{{ selectedItem.name }}</span>
            <span>:</span>
            <span> {{ selectedItem.quantity }}</span>
          </div>
        </mat-list-item>
      </mat-list>
    </mat-menu>
  </div>
  <br>
</div>
<br>
<div>
  <button mat-raised-button #paginator color="primary" *ngIf="offerData.length"
    (click)="submitTableData()">AddAllOffers</button>
</div>
<br>
<section class="mat-elevation-z8 table-Over-Flow-Globle" *ngIf="offerData.length">
  <table mat-table [dataSource]="dataSource">

    <!-- Offer Name Column -->
    <ng-container matColumnDef="offerName">
      <mat-header-cell *matHeaderCellDef> <mat-icon> local_offer</mat-icon> </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element.offerName}} </mat-cell>
    </ng-container>

    <!-- List of Items Column -->
    <ng-container matColumnDef="listOfItems">
      <mat-header-cell *matHeaderCellDef> <mat-icon>list</mat-icon> </mat-header-cell>
      <mat-cell *matCellDef="let element">

        <mat-menu #menu="matMenu">
          <mat-list>
            <mat-list-item *ngFor="let item of element.listOfItems">
              <div fxLayout="row" fxGap="8px" style="justify-content: space-between;">
                <span style="overflow: hidden; text-overflow: ellipsis;">{{ item.name }}</span>
                <span>:</span>
                <span> {{ item.quantity }}</span>
              </div>
            </mat-list-item>
          </mat-list>
        </mat-menu>
        <button mat-raised-button [matMenuTriggerFor]="menu" *ngIf="element.listOfItems.length > 0"
          [matBadge]="element.listOfItems.length" matBadgePosition="before" matBadgeColor="warn">
          <mat-icon>view_list</mat-icon>
        </button>
      </mat-cell>
    </ng-container>

    <!-- Price Column -->
    <ng-container matColumnDef="price">
      <mat-header-cell *matHeaderCellDef> <mat-icon> attach_money</mat-icon> </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element.price}} </mat-cell>
    </ng-container>

    <!-- Special Discount Column -->
    <ng-container matColumnDef="specialDiscount">
      <mat-header-cell *matHeaderCellDef> <mat-icon> percentage</mat-icon> </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element.specialDiscount}} </mat-cell>
    </ng-container>

    <!-- Total Cost After Discount Column -->
    <ng-container matColumnDef="totalCostAfterDiscount">
      <mat-header-cell *matHeaderCellDef> <mat-icon> attach_money</mat-icon></mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element.totalCostAfterDiscount}} </mat-cell>
    </ng-container>

    <!-- select Item Column -->
    <ng-container matColumnDef="delete">
      <th mat-header-cell *matHeaderCellDef> <mat-icon>delete</mat-icon> </th>
      <td mat-cell *matCellDef="let element">
        <mat-icon (click)="onDeleteClick(element)" color="warn">delete</mat-icon>
      </td>
    </ng-container>

    <!-- Header Rows -->
    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
  </table>

  <mat-paginator [pageSizeOptions]="[8]"></mat-paginator>
</section>